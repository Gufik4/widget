(function(){"use strict";var DEBUG=!1,CSS=".widget-wrapper{background:#fefefe;max-height:270px;height:auto;width:auto;max-width:160px;position:fixed;bottom:50px;right:-180px;border-radius:3px;overflow:hidden;border:1px solid #eee;border-top:1px solid #2f4050;-webkit-transition:all .3s ease;transition:all .3s ease;z-index:1000}.widget-wrapper.open{right:10px}.widget-wrapper.loading .widget-toggler{-webkit-animation:toggleOnLoad .5s ease infinite;animation:toggleOnLoad .5s ease infinite}.widget-wrapper.new .widget-toggler{-webkit-animation:bg 1s ease infinite;animation:bg 1s ease infinite}.widget-wrapper ul{margin:0;padding:0;overflow-y:auto;overflow-x:hidden;max-height:250px}.widget-wrapper ul li{border-bottom:1px solid #eee;padding:1px 2px}.widget-wrapper ul li a{font-size:14px;line-height:14px;color:#333;display:block;padding:1px 0 1px;cursor:pointer;text-decoration:none;word-break:break-all}.widget-wrapper ul li:hover{background:#fafafa}.widget-wrapper .widget-link{background:#44a3dd;height:30px}.widget-wrapper .widget-link a{display:block;color:#fff;font-size:14px;line-height:14px;cursor:pointer;font-weight:700;padding:9px;text-decoration:none;text-align:right}.widget-wrapper .widget-link a small{display:none;font-size:14px;line-height:14px;color:red;padding:0 5px;font-weight:700;-webkit-animation:blink 1s ease infinite;animation:blink 1s ease infinite}.widget-wrapper .widget-toggler{position:fixed;bottom:10px;right:10px;width:30px;height:30px;border:1px solid #eee;background:#fefefe;border-radius:50%;overflow:hidden;box-shadow:0 0 2px #ccc;z-index:1000;-webkit-transition:all .3s ease;transition:all .3s ease}.widget-wrapper .widget-toggler a{cursor:pointer}.widget-wrapper .widget-toggler a img{max-width:30px;max-height:30px}.widget-wrapper .widget-toggler:hover{border:1px solid #ccc}@-webkit-keyframes bg{0%{background:#00b2ee}50%{background:#fafafa}100%{background:#00b2ee}}@keyframes bg{0%{background:#00b2ee}50%{background:#fafafa}100%{background:#00b2ee}}@-webkit-keyframes toggleOnLoad{0%{bottom:10px}50%{bottom:15px}100%{bottom:10px}}@keyframes toggleOnLoad{0%{bottom:10px}50%{bottom:15px}100%{bottom:10px}}",ICON_BASE_64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\n                        AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ\n                        cwAARt4AAEbeAY4mMlsAAAAHdElNRQfhAxwMGjdNKVbAAAAMdElEQVR42u2df5BVZRnHP+fHXVh+\n                        LQSEuJHIWKSIwKBQQZnmhBNKNKBjmsaMTczk2GQ5jtqsmlrW2FgWmDBZ0miZTBOOE9YM2Kg0IgMK\n                        CxmglrMkAQLuwi4s9/x4++N9z7nvubv3HNx7zr3X7XzPH+zePfd9n+f7Pu/z/nqeF8iRI0eOHDly\n                        5MiRI0eOHP9/MGpem4Gh1SoiMggEQn06qAgwMDEQeKf5voWBwK8FEdkSIBX3QkVMWpjAmUxmAsMY\n                        xnBGAN30cIITHORt9nOQLvzw+1bWRGRHgIWBq36ewDRmM4fzOIMWrJhveXRxgNfZwjb+wUH1qf0+\n                        rKcBCDCwVKsXmMkXuZzzGaH93Vc9ve/3DEzt92528RfWsx0nUmpDw1Tta/ApVvKGUlbg4eDg4Yef\n                        9P/4+OG7wSdvsIJPqqayIhQ1GEwsDGAsy9kSiu/gRpT28XBxccoeFxev7E0XR33is4XljEVaQgOS\n                        YCjlJ/IgR0PVvTJlnIT2D74XJc0Lv3eUB5mo1ZaK4GnAAjzO4DssZxQCX30G4ONjaI7vBEc4wDt0\n                        cpIeeoDhDKeZ0bRyBmMZFr7pITDD1vYAE4NjrOIhDqg6GwBSuQK30aXaz9faMrCBLjbzKDdyEa0M\n                        rVjWUFq5iBt5lM109mn/Uuld3EYB0rODgUM6vXlsLxPVxVU/vcVqFjO+D2kWtvZYfZQZz2JW81af\n                        8gJatzOPujtFGxjGSiViufKHWcU8mkKlpaJmTKsZmIqY4J0m5rGKw31IkD+tpFlJUQcY2MC5bI+I\n                        5imj38oyxiB9jD0gUzWwsFUJY1jG1kj5QZ3bORc0wmqs/vUcR2hDlbSCzSxShmlV3UtlZwEwWcRm\n                        rRbZGQTH+WrtKZCO74eRtnfxEOzhSiVumiIZ2IrSK9mDwNNqdRH8gJo6RDlhXRVpewdBD200U5oN\n                        pg3p8Jppo6dP3Y9CrHdJVX2DAmvLTF+wiXMyVD5Kwjls0tyupGAthchOQ2bqm8DTCIoRt/cAFrXp\n                        idL7WDwQcYlFBE9TAyuwgJWa+i6CThZS2xFZ2tlCOpUEAQUrIVsLtIC7ETia+h3MBAo131wrADPp\n                        0ChwENydJQU2cJXW91wE7UyiXlMRG5hEe0iB9EVXZSWPCUzhEEL1OxfBbibWTf2AgonsDinwEBxi\n                        ipI2ZRiYbIxU1cGUuqofUDCFjkizbMzCFdrA7WHv9xEcY1bd1Q8km8UxJZWU8Pa0JTOBs3kvrMRF\n                        cANQqLf2oKS4QfMEgvc4m1S7gQU8HlbhqgGn/q0fwEYOziX5HifF0cACLg5b30Owk2HU+lQpDgYw\n                        jJ2hJ/ARXJweBSawLuL+FqVXeEqwgEURV7iOlDqBCczAVby6asrZWOoHFDytJJSSzkiHAgtYobyr\n                        j6DIBbEFWxk/lWACF1BUUjoIVpBCQxnABN7V2n9tbLHZrwfiqIe1mg28ywQSPVWSJzfxuIRxeFiq\n                        8hWx7wuuZ0FmNPj8lSdi31jBUkzAwGMcl/AUZnWb5xawRpmUh+BlKnNqAr8MHVEWjxduffQPA3hZ\n                        vecgWEOVncAARoQTTQfBHVSyGguYg8DF6efgK41HliyYW1EtG7hDa64ORlDVcG0B81WPkrOAyp7V\n                        Aq7WlsrZPA6CqysSIEcsoUk8P8kG4n2AAcwAPGwEBjtpp1IAiwB2UaQJJ7MpkqCAw65YGdrZyXQE\n                        Bh42M9gUL03ydPZ89a+PSTsCq4JT8TF5nbv4UYYbYwJo43XMMIak/O8WHu1Mx1d2en5SkfEEeMB0\n                        Sr1oB3E9ysfkx7zA57EQqZMg23QjmzEqqI+SbgfXhT9Pp4ojVDnD3qcciodgAUletZ7zAJR0CzSJ\n                        9yWtWpK6wEhaVAEmcJCkEDY/4wOKpFghoaQ0ldQtjORE3BfiCDAQtKjDbIGBQ/dpiFj/M/tuHAqq\n                        oYbSwkGMys2WZLJNGkW9HKemQYwDgACO0xv+boen0wMkQN9dcynWW7/TwikVnifjUhNmgkkE9GhK\n                        D2E4jbQNUgmB1QrA1azhfRMggG5OaQSMrLduiZAjV2mvsioCAHoVAQYCi1E0ugUYwIcZGs5DejhG\n                        rN9K7gJHVAE+MKXhCQBoVdIK4BBd8S/HDYMCC5c3mUoQwj6D3ydWb2Q6GUoKnA5mf4HE7+BXnDgn\n                        EiCL28VChFa0H/sNM3GqUh2MeHUQwCwlrVwaUQ0BADspzQRn0kJXzLTCxOdMZmd2YuCyjf0xChl4\n                        jGA2wRAIr1VXoQmcG+6xeQiuoPJqwASWaIdUaT/yQG4JlT2XBVyi7QY4fIIU1ifbtB2h1cRtRnyE\n                        owgV+JzF4yA4yqSKStnAz7Qdoe3KLqqAjYwGK20ytVQo0gKWUoodyeYpIlhaoRHkBt6/teb6CYmd\n                        PMk8BPCcqtDEYxLXxHzrCIDKCsjike71aIwuVzIZD1NJ/EeSnPZpYqu2wn4tltM/UwpZSf9xEayv\n                        WLcBbNIk3XY6qiX7axuXXzMbgfTyM1nKU/1ujBkIrqGNy9LgvAI2cJ+qqRwWHl9mntoME8AaJX2V\n                        MIBx/FcbCXYzkv79QA3i9CrUYQAFXlUS+gj2M46U5q1BWKwTbkzfRyXbMTKNFaxcug3cGnY/B8G9\n                        pHaEK23gHW18Pcms9IpPASZwHsc1CfcznhTXLRZwc2gDHoId1Z65pAgZvPtSpP1vIdUGMoCmsIfJ\n                        Kn5DowTJ2MBPw+ZxEbwSZhqkBhOYjxPm/bkIbmsICgrATdrg6+MlH4gNBDbQRunsz0PwDeodKVYA\n                        lqppUgbuLwoDk+cpxQp6CL5C7eOEo+ovxo2o/zesrIZjE/gob1OKxfIQLIcwn6OWkGHz1+IoOYKT\n                        oLPI8HzKAi7kuEaBi+Aesk+U6CuJBXwXEabbegh6s+n9OmzgS5RSFWS2xpOMpHaJS7Ltm1XoZqC+\n                        h88SauCWbeA6tTYrUbBXxW1kbweyjpnsoJS0I5vja7VQP6BgKU6YviiHoFO0MSRjEiyVpnsnp7SB\n                        Ty6/b6iV+iC97xWciAjhIvgnC9Bz/dJEkDF+qUqR8DTyT7K4lupDEKT+JuW5Y4I/MQtIO3MwiP95\n                        Rimt54vtY26t1Qfpaz/EeqKJsy4Cl3XMQU5Fq88dDVDgYbUgL9XmIHiR1nqoLykwMLiLomYHgXF6\n                        vKBlD5sDzB/Wyb4XQTGSQy4Q3I+VfAKcHeToP0ttmZWTIHiX1SxkTPh+kEEuc8j1J74WmEwXQuv3\n                        cmPmc9Q9gV6OyQW+R7cyz743CBzhGb7JHEYnUtk/bODhslVIL/er1PkGWJJLnz+Jx9Tmef93SAgO\n                        8xK/4BaWMJezGMsomilgM4Tm8CSnP2pgNqcQoePzWcvHqP3sMwbBEDWDZ1RYvaPtDeu3wQTPSTo5\n                        RAd72c1bdPAKl9P/HN6Esmy1ZZRurGkgBO0xjUfoVC3lRC7GCW6ScSk/OpOh+J+m7zw+utfnIngO\n                        eSVDQyK4IGMCt7JVmydGiQgM2ccLn14Ev+pDgA3Mj5i/w0U00m5kPyjdJXUB36ddC572VPt72gaG\n                        fuTxZJlqFtAaHnVJJ/hIo6uPUj7wzhZTWcbj7E2IIncRXBtRzgJa2BLp/XvCmUWKomYHEzO8/qzA\n                        WZzDeUzj44xjDC3Y2gTGx2Qbc/HCMx8bl1E8y2dxsQmCdC7lxYrB2g0Ls4/LshjNWL7ASfRM1CWU\n                        2t8GWtmijf1FBHfSCJuwA4R+Q5Ac89ejZ/k9SzAImtjAZ9hP9GaAJ6lFKHZNqIgmusq4DxnJEfiO\n                        mygSvRtifUjdBxxS/Xs043YQfAsoqFn9VDZE1vtFBH9nBIOi/aX6d5YZ9x+AJhXcfrfaZgnG/SKC\n                        DbQMDvXlDKEtspUp2MNYAEZzOwf6We8/QSHj2MMaQV6z81hkK1Owj8nAhfycg+jXZAVv3QvanYIf\n                        WEjTH8/GyBaawOFmbmJbOBpEL0rbx2U0yIK3WvUt4HL+Q3lWYS/d4Ry/dP2q7AK/Y/xgUR+aeEjb\n                        No0uivSFs6u6QDuX0lDr/erUH8oGRGRrRPRLhFwx7uXr6nzhA9/zQU5dv43gVMXwWU+zgVdZxhAG\n                        SdtLWMBv6Rs7qF+z6yM4zBrmq2S3mvb7rBcXBvAG4CC0z8xwJSh4m5dYx/N0KuW96iP73q+A2ZYv\n                        GMcmpobZvFLtw7zJLnawmV0qKadO9wTXIrBRMJ7lTKPICQ6xnwN08C8tlcWKXME/6AgoZW+Uf2pR\n                        +ab5QUVA8B8lBLUFjjBHjhw5cuTIkSNHjhw5cuSoE/4HRyhFmRJDs4UAAAAldEVYdGRhdGU6Y3Jl\n                        YXRlADIwMTctMDMtMjhUMTI6MjY6NTUtMDQ6MDDwGyCcAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3\n                        LTAzLTI4VDEyOjI2OjU1LTA0OjAwgUaYIAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9y\n                        Z5vuPBoAAAAASUVORK5CYII=",PERSON_ID=$("meta[name=person_id]").attr("content"),COMPANY_TAG=$("meta[name=company_tag]").attr("content"),BASE_PATH="http://news.databridgecmms.com/api/news/"+COMPANY_TAG+"/"+PERSON_ID,renderWidget=function(n,e){if(n.length>0)if(e){var A=$(".widget-wrapper");A.find("ul").remove(),A.append("<ul></ul>"),n.map(function(n,e){A.find("ul").append('<li><a href="'+n.url+'"><span>'+(e+1)+".</span> "+n.title+"</a></div>")}),A.addClass("new"),setTimeout(function(){A.removeClass("new")},1e4)}else{$(".widget-wrapper").remove(),function(){var n=$('<style type="text/css">'+CSS+"</style>");$("head").append(n)}();var A=$("<div></div>").addClass("widget-wrapper loading"),t=$('<div class="widget-link"><a href="http://news.databridgecmms.com/"><small>new!</small>Read News &rarr;</a></div>'),a=$('<div class="widget-toggler"><a><img src="'+ICON_BASE_64+'"/></a></div>');A.append(a),A.append(t),A.append("<ul></ul>"),n.map(function(n,e){A.find("ul").append('<li><a href="'+n.url+'"><span>'+(e+1)+".</span> "+n.title+"</a></div>")}),$("body").append(A),$(".widget-toggler").on("click",function(n){A.toggleClass("open"),n.preventDefault(),n.stopPropagation()}),$(document).mouseup(function(n){n.preventDefault(),n.stopPropagation(),A.is(n.target)||0!==A.has(n.target).length||A.removeClass("open")}),setTimeout(function(){A.removeClass("loading")},1500)}},ajaxRequest=function(){var n=JSON.parse(localStorage.getItem("widget.time_storage"))||0,e=JSON.parse(localStorage.getItem("widget.news"))||[];console.log("cache",n,e),Date.now()-12e5>n?(DEBUG&&console.log("widget ajax"),$.ajax({method:"GET",url:BASE_PATH}).done(function(n){DEBUG&&console.log("widget data",n.news),localStorage.setItem("widget.time_storage",Date.now()),localStorage.setItem("widget.news",JSON.stringify(n.news)),renderWidget(n.news),setInterval(function(){DEBUG&&console.log("widget interval tick"),renderWidget(n.news,!0)},12e5)}).fail(function(n){DEBUG&&console.log("widget error",n)})):(DEBUG&&console.log("widget cache",e),renderWidget(e))},init=function(){DEBUG&&console.log("widget start"),ajaxRequest()};init();})()